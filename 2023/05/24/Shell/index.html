<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Shell | FreChen026</title><meta name="keywords" content="工具,Linux"><meta name="author" content="FreChen026"><meta name="copyright" content="FreChen026"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="参考教程MIT公开课——The Missing Semester of Your CS Education   课程公开笔记 What is the shell?why we need shell?These are great for 80% of use-cases(use GUI), but they are often fundamentally restricted in what th">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell">
<meta property="og:url" content="http://example.com/2023/05/24/Shell/index.html">
<meta property="og:site_name" content="FreChen026">
<meta property="og:description" content="参考教程MIT公开课——The Missing Semester of Your CS Education   课程公开笔记 What is the shell?why we need shell?These are great for 80% of use-cases(use GUI), but they are often fundamentally restricted in what th">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/05/24/1gbqds2iAQU7FmM.jpg">
<meta property="article:published_time" content="2023-05-24T14:18:05.000Z">
<meta property="article:modified_time" content="2023-05-27T14:21:10.498Z">
<meta property="article:author" content="FreChen026">
<meta property="article:tag" content="工具">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/05/24/1gbqds2iAQU7FmM.jpg"><link rel="shortcut icon" href="https://s2.loli.net/2023/03/10/eRLkCVOgloy9Y43.jpg"><link rel="canonical" href="http://example.com/2023/05/24/Shell/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Shell',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-27 22:21:10'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/03/10/yFU1XmJBxQcCoz6.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><i class="fa-fw fas fa-camera"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/05/24/1gbqds2iAQU7FmM.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">FreChen026</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><i class="fa-fw fas fa-camera"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Shell</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-05-24T14:18:05.000Z" title="发表于 2023-05-24 22:18:05">2023-05-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-05-27T14:21:10.498Z" title="更新于 2023-05-27 22:21:10">2023-05-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>19分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Shell"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note info simple"><p>参考教程MIT公开课——The Missing Semester of Your CS Education</p>
</div>

<p><a target="_blank" rel="noopener" href="https://missing-semester-cn.github.io/2020/course-shell/">课程公开笔记</a></p>
<h1 id="What-is-the-shell"><a href="#What-is-the-shell" class="headerlink" title="What is the shell?"></a>What is the shell?</h1><h2 id="why-we-need-shell"><a href="#why-we-need-shell" class="headerlink" title="why we need shell?"></a>why we need shell?</h2><p><code>These are great for 80% of use-cases(use GUI), but they are often fundamentally restricted in what they allow you to do — you cannot press a button that isn’t there or give a voice command that hasn’t been programmed.To take full advantage of the tools your computer provides, we have to go old-school and drop down to a textual interface: The Shell.</code></p>
<p>总而言之就是，图形化界面给我们提供了极大的便利，但由于将功能封装在一个个特定功能的按键等交互上，使得其灵活性大打折扣，而更加古老的命令行工具很大程度上能够解决这一问题。话说这结论我好像在哪听过，像是最近在读的<code>Orange&#39;s:一个操作系统的实现</code>里也有相似论点。</p>
<h1 id="Using-the-shell"><a href="#Using-the-shell" class="headerlink" title="Using the shell"></a>Using the shell</h1><p>在终端的命令提示符中输入想要执行的指令，这些命令会被<code>shell</code>所解析，以下是两个较为简单的命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~$ date</span><br><span class="line">2023年 05月 24日 星期三 20:22:36 CST</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ echo hello</span><br><span class="line">hello</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ echo &quot;hello world&quot;</span><br><span class="line">hello world</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ echo hello\ world</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<p><strong>传入的参数以空格分隔，一个多单词的参数，我们可以使用引号或者转义字符处理</strong></p>
<p><code>shell</code>借助环境变量<code>$PATH</code>知道某个程序存放的位置</p>
<p><code>shell</code>说白了也是一种程序设计语言，提示符中甚至可以有条件、循环等等语句</p>
<p>可以通过<code>echo $PATH</code>查看有哪些环境变量，同时使用<code>which</code>指令可以知晓某程序所在路径，可以发现将<code>echo</code>替换成<code>/usr/bin/echo</code>效果相同。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~$ echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ which echo</span><br><span class="line">/usr/bin/echo</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ /usr/bin/echo hello</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>

<p><code>path</code>用以描述计算机中文件所在位置，<code>Linux</code>或<code>MacOS</code>起始路径都为根目录，位于整个文件系统的最顶层，<code>Windows</code>下每一个磁盘分区下都有一个根目录。<code>Linux</code>下可使用<code>pwd</code>指令打印出当前所在目录路径。</p>
<p>相对路径与绝对路径，<code>Linux</code>课程笔记中已有备注，不加以赘述。</p>
<p><code>.</code>和<code>..</code>是较为特殊两个目录，其实也都知道了，<code>.</code>表示当前目录，<code>..</code>表示当前目录的父目录。</p>
<p><code>cd</code>命令中两个较为特殊的符号<code>~</code>和<code>-</code>，<code>~</code>等价于<code>/home/username</code>，所以回到用户目录可以使用以下命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:/$ cd ~</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ pwd</span><br><span class="line">/home/frechen026</span><br></pre></td></tr></table></figure>

<p>(其实直接<code>cd</code>不加任何参数也行)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:/$ cd</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ pwd</span><br><span class="line">/home/frechen026</span><br></pre></td></tr></table></figure>

<p>不过下列情形就有优势了</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~$ cd ~/Desktop/</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ pwd</span><br><span class="line">/home/frechen026/Desktop</span><br></pre></td></tr></table></figure>

<p><code>-</code>可以切换至上一次<code>cd</code>的目录，用于在两个目录之间跳转是极好的。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cd -</span><br><span class="line">/home/frechen026</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ cd -</span><br><span class="line">/home/frechen026/Desktop</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cd -</span><br><span class="line">/home/frechen026</span><br><span class="line">frechen026@frechen026-virtual-machine:~$ cd -</span><br><span class="line">/home/frechen026/Desktop</span><br></pre></td></tr></table></figure>

<p>还有很多命令的讲解如<code>ls</code> <code>man</code> <code>move</code>…都与<code>Linux</code>相重复了，也就不加以赘述。</p>
<p>一个好用的快捷键<code>Ctrl + l</code>清屏操作，我居然还只会傻乎乎用<code>clear</code>指令，改天对快捷键也加以整理吧，无疑使用好快捷键可以大大提高效率。</p>
<h2 id="在程序间创建连接"><a href="#在程序间创建连接" class="headerlink" title="在程序间创建连接"></a>在程序间创建连接</h2><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><p>在 shell 中，程序有两个主要的“流”：它们的输入流和输出流。 当程序尝试读取信息时，它们会从输入流中进行读取，当程序打印信息时，它们会将信息输出到输出流中。 <strong>通常，一个程序的输入输出流都是您的终端。</strong>也就是，您的键盘作为输入，显示器作为输出。 <strong>但是，我们也可以重定向这些流</strong></p>
<p>最简单的重定向是 <code>&lt; file</code> 和 <code>&gt; file</code>。这两个命令可以将程序的输入输出流分别重定向到文件：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ echo hello &gt; hello.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat hello.txt</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>

<p>上述指令实现了将本应该输出到终端的<code>output stream</code>重定向到了<code>hello.txt</code>中</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat &lt; hello.txt</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>

<p>上述指令实现了将<code>hello.txt</code>内容作为输入重定向到<code>cat</code>指令中，效果等同于<code>cat hello.txt</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat &lt; hello.txt &gt; world.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat hello.txt </span><br><span class="line">hello</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat world.txt </span><br><span class="line">hello</span><br></pre></td></tr></table></figure>

<p>上述指令实现了将<code>hello.txt</code>内容作为<code>input stream</code>重定向给<code>cat</code>指令作为输入，又将<code>cat</code>指令的输出重定向给<code>world.txt</code>作为输入。事实上<code>cat</code>指令并不知道重定向这回事，他只管接受属于他的<code>input stream</code>并输出它的<code>output stream</code>，重定向这回事是<code>shell</code>该干的事。</p>
<p>使用<code>&gt;&gt;</code>来向一个文件追加内容，注意，不单单是写入，而是追加：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat &lt; hello.txt &gt;&gt; world.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat world.txt </span><br><span class="line">hello</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>

<h3 id="pipe"><a href="#pipe" class="headerlink" title="pipe"></a>pipe</h3><p><code>|</code>分隔两个程序，将左侧程序的输出作为右侧程序的输入，看jyy第一节课就用到这个玩意的，当时也没去多想，看似高深实际了解了好像也就那么回事。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ ls -l</span><br><span class="line">total 16</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026    6 5月  24 21:15 hello.txt</span><br><span class="line">drwxrwxr-x 2 frechen026 frechen026 4096 5月  18 10:27 MakeTest</span><br><span class="line">drwxrwxr-x 7 frechen026 frechen026 4096 5月  23 18:55 OS</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026   12 5月  24 21:38 world.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ ls -l | tail -n1</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026   12 5月  24 21:38 world.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ ls -l | head -n1</span><br><span class="line">total 16</span><br></pre></td></tr></table></figure>

<p>照着教程敲了<code>tail</code>，猜了一下对应应该有<code>head</code>指令吧，还真有。嘿嘿，合理的命名确实易于理解和记忆。上述指令将<code>ls -l</code>所输出的文件作为输入传递给了后续程序。</p>
<p><code>ls</code>指令并不认识<code>tail</code>和<code>head</code>，反之亦是如此，并非刻意兼容，他们所知道的只有从输入读数据，写到输出中，连接他们的是<code>pipe</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ ls -l</span><br><span class="line">total 16</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026    6 5月  24 21:15 hello.txt</span><br><span class="line">drwxrwxr-x 2 frechen026 frechen026 4096 5月  18 10:27 MakeTest</span><br><span class="line">drwxrwxr-x 7 frechen026 frechen026 4096 5月  23 18:55 OS</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026   12 5月  24 21:38 world.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ ls -l | tail -n1 &gt; hello.txt</span><br><span class="line">frechen026@frechen026-virtual-machine:~/Desktop$ cat hello.txt</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026   12 5月  24 21:38 world.txt</span><br></pre></td></tr></table></figure>

<p>上述<code>shell</code>实现管道连接的同时将输出重定向到<code>hello.txt</code>中</p>
<p>确实<code>pipe</code>是个十分神奇的东西，将命令联合在一起，对于文本数据甚至图片、视频都可以处理吗？</p>
<h2 id="root用户"><a href="#root用户" class="headerlink" title="root用户"></a>root用户</h2><p>对于大多数的类 Unix 系统，有一类用户是非常特殊的，那就是：根用户（root user）。 您应该已经注意到了，在上面的输出结果中，根用户几乎不受任何限制，他可以创建、读取、更新和删除系统中的任何文件。</p>
<p>通常在我们并不会以根用户的身份直接登录系统，因为这样可能会因为某些错误的操作而破坏系统。 取而代之的是我们会在需要的时候使用 <code>sudo</code> 命令。</p>
<p><code>Linux</code>中一切皆文件这个观点我们早就知道了，因此我们也可以对内核、外设那些相关文件进行直接的读写操作，这确实是件amazing的事情，尽管可能无法承受随意更改带来的后果。</p>
<p>有一件事情是您必须作为根用户才能做的，那就是向 <code>sysfs</code> 文件写入内容。系统被挂载在 <code>/sys</code> 下，<code>sysfs</code> 文件则暴露了一些内核（kernel）参数。 因此，您不需要借助任何专用的工具，就可以轻松地在运行期间配置系统内核。注意 Windows 和 macOS 没有这个文件？</p>
<p>这里我就纳闷了，Windows如今也支持<code>Linux</code>，如我就在使用的<code>wsl2</code>，利用它我可以不用虚拟机，不用双系统，就能在Windows上拥有<code>Linux</code>，<code>wsl2</code>的<code>Ubuntu20.04</code>我也看了，也是存在该文件的，虚拟机下也存在该文件，不过其中包含的内容却有些许差异，就比如两者都没有例子中所提及的<code>brightness</code>，所以下面所尝试的例子我本人并没有实际去实验。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo find -L /sys/class/backlight -maxdepth 2 -name <span class="string">&#x27;*brightness*&#x27;</span></span></span><br><span class="line">/sys/class/backlight/thinkpad_screen/brightness</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /sys/class/backlight/thinkpad_screen</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo <span class="built_in">echo</span> 3 &gt; brightness</span></span><br><span class="line">An error occurred while redirecting file &#x27;brightness&#x27;</span><br><span class="line">open: Permission denied</span><br></pre></td></tr></table></figure>
<p>This error may come as a surprise.我们明明已经使用了<code>sudo</code>去执行相关的操作，却仍然得到了有关于权限的报错，sad!But why?</p>
<p>先前对于重定向以及管道的说明就以提及，输入输出的重定向是程序所不知道的，这些都是由<code>shell</code>所设计好的。<code>echo</code> 等程序并不知道 <code>|</code> 的存在，它们只知道从自己的输入输出流中进行读写。</p>
<p>额，这里中文翻译的感觉不是太过于确切。以下是中英对照：<br><code>In the case above, the shell (which is authenticated just as your user) tries to open the brightness file for writing, before setting that as sudo echo’s output, but is prevented from doing so since the shell does not run as root.</code></p>
<p><code>对于上面这种情况， shell (权限为您的当前用户) 在设置 sudo echo 前尝试打开 brightness 文件并写入，但是系统拒绝了 shell 的操作因为此时 shell 不是根用户。</code></p>
<p><code>shell (权限为您的当前用户) 在设置 sudo echo 前尝试打开 brightness 文件并写入</code>翻译的过于令人误解，应当是再将其设置为<code>sudo echo</code>的输出前，<code>shell</code>尝试去打开并写入该文件。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> 3 | sudo <span class="built_in">tee</span> brightness</span></span><br></pre></td></tr></table></figure>
<p>我们可以尝试上述写法，由<code>tee</code>获得了<code>root</code>权限，由它去写<code>brightness</code>，在整条指令前面加上<code>#</code>，表示以<code>root</code>权限执行整条指令，也可解决该问题。这样您就可以在 <code>/sys</code> 中愉快地玩耍了，例如修改系统中各种LED的状态（路径可能会有所不同）</p>
<p>这里其实还是很迷糊的，因为该节课并未对<code>shell</code>是什么加以很明确的说明，虽然它的第一部分是<code>what is the shell</code>，但遗憾的是不管是课件还是讲解都未对<code>shell</code>加以说明，只知道他是古老的文本接口，它可以在终端中运行，可它究竟是什么？与终端有何区别却是缺失的。</p>
<p>课后习题：<br>1.<code>To make sure you’re running an appropriate shell, you can try the command echo $SHELL.</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:~$ echo $SHELL</span><br><span class="line">/usr/bin/bash</span><br></pre></td></tr></table></figure>

<p>2.<code>Create a new directory called missing under /tmp.</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp$ ls</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-chrony.service-b5aaey</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-haveged.service-aOe4WV</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-systemd-logind.service-472wpQ</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-systemd-resolved.service-JWR6oR</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-vnstat.service-GWob1k</span><br><span class="line">frechen026@pine64:/tmp$ mkdir missing</span><br><span class="line">frechen026@pine64:/tmp$ ls</span><br><span class="line">missing</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-chrony.service-b5aaey</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-haveged.service-aOe4WV</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-systemd-logind.service-472wpQ</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-systemd-resolved.service-JWR6oR</span><br><span class="line">systemd-private-e3b18eeb618d4974ab23387a737d64a5-vnstat.service-GWob1k</span><br></pre></td></tr></table></figure>

<p>3.<code>Look up the touch program. The man program is your friend.</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/$ man touch</span><br></pre></td></tr></table></figure>

<p>4.<code>Use touch to create a new file called semester in missing.</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp$ cd missing</span><br><span class="line">frechen026@pine64:/tmp/missing$ touch semester</span><br><span class="line">frechen026@pine64:/tmp/missing$ ls</span><br><span class="line">semester</span><br></pre></td></tr></table></figure>

<p>5.<code>Write the following into that file, one line at a time:</code></p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">curl --head --silent https://missing.csail.mit.edu</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ echo &#x27;#!/bin/sh&#x27; &gt;&gt; semester </span><br><span class="line">frechen026@pine64:/tmp/missing$ echo &#x27;curl --head --silent https://missing.csail.mit.edu&#x27; &gt;&gt; semester </span><br><span class="line">frechen026@pine64:/tmp/missing$ cat semester </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">curl --head --silent https://missing.csail.mit.edu</span><br></pre></td></tr></table></figure>
<p>使用追加重定向解决，不过直接使用文本编辑器显然更简单，例如<code>vim</code>，这也不算是跳脱命令行。</p>
<p>不顾提示，使用双引号进行尝试</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ echo &quot;#!/bin/sh&quot; &gt;&gt; semester </span><br><span class="line">-bash: !/bin/sh: event not found</span><br></pre></td></tr></table></figure>
<p>得到如下报错，果然<code>! has a special meaning even within double-quoted (&quot;) strings.</code><br>6.<code>Try to execute the file, i.e. type the path to the script (./semester) into your shell and press enter. Understand why it doesn’t work by consulting the output of ls (hint: look at the permission bits of the file)</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ ./semester</span><br><span class="line">-bash: ./semester: Permission denied</span><br><span class="line">frechen026@pine64:/tmp/missing$ ls -al semester </span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026 61 May 26 09:35 semester</span><br></pre></td></tr></table></figure>
<p>可以看到该文件并无执行权限，只有读写权限，所以无法执行。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ vim hello.c</span><br><span class="line">frechen026@pine64:/tmp/missing$ gcc hello.c</span><br><span class="line">frechen026@pine64:/tmp/missing$ ./a.out</span><br><span class="line">hello world</span><br><span class="line">frechen026@pine64:/tmp/missing$ ls</span><br><span class="line">a.out  hello.c  semester</span><br><span class="line">frechen026@pine64:/tmp/missing$ ls -al</span><br><span class="line">total 20</span><br><span class="line">drwxrwxr-x  2 frechen026 frechen026  100 May 26 09:48 .</span><br><span class="line">drwxrwxrwt 13 root       root        260 May 26 09:48 ..</span><br><span class="line">-rwxrwxr-x  1 frechen026 frechen026 8872 May 26 09:48 a.out</span><br><span class="line">-rw-rw-r--  1 frechen026 frechen026   60 May 26 09:48 hello.c</span><br><span class="line">-rw-rw-r--  1 frechen026 frechen026   61 May 26 09:35 semester</span><br></pre></td></tr></table></figure>
<p>快速编写一个可执行文件<code>a.out</code>，权限可以看到是可执行的。</p>
<p>7.<code>Run the command by explicitly starting the sh interpreter, and giving it the file semester as the first argument, i.e. sh semester. Why does this work, while ./semester didn’t?</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ cat semester </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">curl --head --silent https://missing.csail.mit.edu</span><br><span class="line">frechen026@pine64:/tmp/missing$ sh semester</span><br><span class="line">HTTP/2 200 </span><br><span class="line">server: GitHub.com</span><br><span class="line">content-type: text/html; charset=utf-8</span><br><span class="line">last-modified: Sat, 06 May 2023 11:21:52 GMT</span><br><span class="line">access-control-allow-origin: *</span><br><span class="line">etag: &quot;64563850-1f86&quot;</span><br><span class="line">expires: Fri, 26 May 2023 04:47:45 GMT</span><br><span class="line">cache-control: max-age=600</span><br><span class="line">x-proxy-cache: MISS</span><br><span class="line">x-github-request-id: E7F6:0C29:113A80B:13B2FD3:64703799</span><br><span class="line">accept-ranges: bytes</span><br><span class="line">date: Fri, 26 May 2023 09:51:45 GMT</span><br><span class="line">via: 1.1 varnish</span><br><span class="line">age: 0</span><br><span class="line">x-served-by: cache-bur-kbur8200051-BUR</span><br><span class="line">x-cache: HIT</span><br><span class="line">x-cache-hits: 1</span><br><span class="line">x-timer: S1685094705.975637,VS0,VE111</span><br><span class="line">vary: Accept-Encoding</span><br><span class="line">x-fastly-request-id: 24d44d7a38558bd753a392070f5e0c6a9f300727</span><br><span class="line">content-length: 8070</span><br></pre></td></tr></table></figure>

<p>哈？居然真的执行了相关的内容，这莫非就是<code>shell</code>脚本的雏形？想来确实是执行了<code>semester</code>文件中的语句，amazing!!!</p>
<p>8.<code>Look up the chmod program (e.g. use man chmod).</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ man chmod</span><br></pre></td></tr></table></figure>
<p>根据名字判断<code>chmod - change file mode bits</code>，应该可以改变用户对文件的权限。</p>
<p>9.<code>Use chmod to make it possible to run the command ./semester rather than having to type sh semester. How does your shell know that the file is supposed to be interpreted using sh? See this page on the shebang line for more information.</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ chmod u+x semester </span><br><span class="line">frechen026@pine64:/tmp/missing$ ls -l</span><br><span class="line">total 20</span><br><span class="line">-rwxrwxr-x 1 frechen026 frechen026 8872 May 26 09:48 a.out</span><br><span class="line">-rw-rw-r-- 1 frechen026 frechen026   60 May 26 09:48 hello.c</span><br><span class="line">-rwxrw-r-- 1 frechen026 frechen026   61 May 26 09:35 semester</span><br><span class="line">frechen026@pine64:/tmp/missing$ ./semester </span><br><span class="line">HTTP/2 200 </span><br><span class="line">server: GitHub.com</span><br><span class="line">content-type: text/html; charset=utf-8</span><br><span class="line">last-modified: Sat, 06 May 2023 11:21:52 GMT</span><br><span class="line">access-control-allow-origin: *</span><br><span class="line">etag: &quot;64563850-1f86&quot;</span><br><span class="line">expires: Thu, 25 May 2023 12:33:32 GMT</span><br><span class="line">cache-control: max-age=600</span><br><span class="line">x-proxy-cache: MISS</span><br><span class="line">x-github-request-id: 2592:9B64:662C5D:74F633:646F5344</span><br><span class="line">accept-ranges: bytes</span><br><span class="line">date: Fri, 26 May 2023 13:11:07 GMT</span><br><span class="line">via: 1.1 varnish</span><br><span class="line">age: 0</span><br><span class="line">x-served-by: cache-sna10737-LGB</span><br><span class="line">x-cache: HIT</span><br><span class="line">x-cache-hits: 1</span><br><span class="line">x-timer: S1685106667.182469,VS0,VE89</span><br><span class="line">vary: Accept-Encoding</span><br><span class="line">x-fastly-request-id: c9c53da7d1dc7383c698ba2d9dac1b9e6a8094bf</span><br><span class="line">content-length: 8070</span><br></pre></td></tr></table></figure>
<p>为<code>semester</code>加上可执行权限。有点意外，一个普通文件居然还能够执行，超出我对可执行文件的理解了。不过应该是<code>shell</code>去执行了其中的语句，跟<code>sh</code>同理。</p>
<p>10.<code>Use | and &gt; to write the “last modified” date output by semester into a file called last-modified.txt in your home directory.</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/tmp/missing$ ./semester | tail -n2 &gt; last-modified.txt</span><br><span class="line">frechen026@pine64:/tmp/missing$ cat last-modified.txt </span><br><span class="line">content-length: 8070</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>tail -n1</code>仅仅只是个换行，额，<code>n2</code>看来才是符合要求的结果。</p>
<p>11.<code>Write a command that reads out your laptop battery’s power level or your desktop machine’s CPU temperature from /sys. Note: if you’re a macOS user, your OS doesn’t have sysfs, so you can skip this exercise.</code></p>
<p><code>CPU</code>温度相关文件在<code>/sys/class/thermal/</code>中</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/sys/class/thermal/thermal_zone0$ cat temp</span><br><span class="line">83986</span><br></pre></td></tr></table></figure>
<p>我去，燃爆了，居然温度高达83.98℃，好在我一阵风力降温</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/sys/class/thermal/thermal_zone0$ cat temp</span><br><span class="line">54853</span><br></pre></td></tr></table></figure>

<p>温度降到了54℃，不过小风扇没电了，温度也是又回到了80，难怪之前摸都烫手……</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat capacity </span><br><span class="line">100</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat health</span><br><span class="line">Good</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat current_now</span><br><span class="line">0</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat constant_charge_current_max </span><br><span class="line">1200000</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat constant_charge_current</span><br><span class="line">1200000</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat type</span><br><span class="line">Battery</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat present</span><br><span class="line">0</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat status</span><br><span class="line">Full</span><br><span class="line">frechen026@pine64:/sys/class/power_supply/axp20x-battery$ cat online</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p>查看电池，额，插电使用的卡片电脑，我也不晓得这电量该怎么算，不过<code>capacity</code>应该是容量吧，100应该是满电的。</p>
<p>至此学习完了第一节课的内容。</p>
<h1 id="补充概念"><a href="#补充概念" class="headerlink" title="补充概念"></a>补充概念</h1><div class="note info simple"><p>参考教程：<a target="_blank" rel="noopener" href="https://blog.csdn.net/Amentos/article/details/129290846">Linux 学习笔记（一）：终端 和 Shell 的区别和联系</a> + <a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-shell.html">菜鸟教程</a></p>
</div>

<p>回到上述提及过的问题，<code>shell</code>究竟是什么？其与<code>terminal</code>的联系与区别在哪？</p>
<h2 id="什么是shell"><a href="#什么是shell" class="headerlink" title="什么是shell"></a>什么是<code>shell</code></h2><p><code>Shell</code> 是一个用 <code>C 语言</code>编写的<strong>程序</strong>，它是用户使用 <code>Linux</code> 的桥梁。<code>Shell</code> 既是一种<strong>命令语言</strong>，又是一种<strong>程序设计语言</strong>。</p>
<p><code>Shell</code> 是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。</p>
<p>我不清楚将<code>shell</code>称之为一种语言是否合适，<code>shell</code>确实有属于自己的<code>shell</code>语言，但是否可以说<code>shell∈programming language</code>我是不太赞同的，更像是<code>C</code>和<code>gcc</code>的关系。</p>
<p>找到较为权威的文档<a target="_blank" rel="noopener" href="https://www.gnu.org/software/bash/manual/bash.html">Bash Reference Manual</a>，其中对于<code>what is a shell</code>做了如下解释：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">At its base, a shell is simply a macro processor that executes commands. </span><br><span class="line">A Unix shell is both a command interpreter and a programming language. As a command interpreter, the shell provides the user interface to the rich set of GNU utilities. The programming language features allow these utilities to be combined.</span><br></pre></td></tr></table></figure>
<p>显然，这里也确实将<code>shell</code>称为<code>a programming language</code>，那也无话可说，<code>shell</code>就姑且定义为一个具有语言特性的解释器。</p>
<p><code>Ken Thompson</code> 的 <code>sh</code> 是第一种 <code>Unix Shell</code>，<code>Windows Explorer</code> 是一个典型的图形界面 <code>Shell</code>。</p>
<p>Linux 的 Shell 种类众多，常见的有：</p>
<ul>
<li>Bourne Shell（&#x2F;usr&#x2F;bin&#x2F;sh或&#x2F;bin&#x2F;sh）</li>
<li>Bourne Again Shell（&#x2F;bin&#x2F;bash）</li>
<li>C Shell（&#x2F;usr&#x2F;bin&#x2F;csh）</li>
<li>K Shell（&#x2F;usr&#x2F;bin&#x2F;ksh）</li>
<li>Shell for Root（&#x2F;sbin&#x2F;sh）</li>
<li>……</li>
</ul>
<p><code>Bourne Again Shell</code>，由于易用和免费，<code>Bash</code> 在日常工作中被广泛使用。同时，<code>Bash</code> 也是大多数<code>Linux</code> 系统默认的 <code>Shell</code>。</p>
<h2 id="terminal与shell有何区别？"><a href="#terminal与shell有何区别？" class="headerlink" title="terminal与shell有何区别？"></a><code>terminal</code>与<code>shell</code>有何区别？</h2><h3 id="什么是terminal"><a href="#什么是terminal" class="headerlink" title="什么是terminal"></a>什么是<code>terminal</code></h3><p>终端是与计算机系统相连的一种输入、输出设备，通常离计算机较远。<br>早期的终端是一种叫做 <code>电传打字机 - Teletype</code> 的东西。虽然现在电传打字机已经不再适用，但它也是计算机发展的一个重要象征。所以 <code>Teletype</code> 的缩写 <code>TTY</code> 沿用至今，作为各种类型的终端设备的统称。难怪<code>oranges</code>一书中对于<code>terminal</code>使用的是<code>tty</code>进行描述，但是还纳闷是什么单词的缩写，原来如此。</p>
<p>实际上，前面我们说的终端指的都是物理的终端设备，而我们在 <code>Linux</code> 上常说的终端其实是 <code>终端模拟器 - Terminal Emulator</code>（一种 <code>模拟终端的程序</code> ），也称为 —— <code>虚拟终端</code> ，但平时一般直接称为终端。</p>
<p>可以将 <code>Linux</code> 终端看作一个使用软件来模拟的输入、输出设备，其作用就是提供一个命令的输入、输出环境。<code>Linux</code> 终端是基于物理终端之上的。</p>
<h3 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h3><ul>
<li>在计算机科学中，Shell 俗称 “壳” （区别于 “核”—— Linux 内核）</li>
<li>简单来说，Shell 就是接收用户输入的命令，然后提交给 Linux 内核处理的一个壳程序</li>
</ul>
<p><code>shell</code>壳的名称确实及其贴切，相对于系统内核而言，<code>Shell</code> 是包裹在操作系统 外层 的一道程序，负责外界与 Linux “内核” 的交互，但它隐藏了操作系统底层的具体细节，就像是 <code>Linux</code> 内核的一个 “外壳”，所以 <code>Shell</code>（壳）的名称也由此而来。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>由上述对于两者的定义不难看出，终端起到模拟输入输出的作用，提供人机交互的接口，将获得的输入转交给<code>shell</code>，而<code>shell</code>对获得的输入进行处理，交给<code>Linux</code>内核加以执行。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">FreChen026</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/05/24/Shell/">http://example.com/2023/05/24/Shell/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">FreChen026</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/05/24/1gbqds2iAQU7FmM.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/05/21/OS/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/21/exL2WY8ItFTJErP.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">OS</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/05/18/Make/" title="Make"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/18/r9XmfvjieSY4VK2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-18</div><div class="title">Make</div></div></a></div><div><a href="/2023/03/24/Bochs%E5%AE%89%E8%A3%85/" title="Bochs安装"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/03/24/LJk7PeB9Yc3ZmQW.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-24</div><div class="title">Bochs安装</div></div></a></div><div><a href="/2023/03/16/Git/" title="Git"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/03/16/L7XzVTpDqGwPuW3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-16</div><div class="title">Git</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/03/10/yFU1XmJBxQcCoz6.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">FreChen026</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/FreChen026"><i class="fab fa-github"></i><span>认识我</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这是我的Hexo博客，用于记录一些学习和生活方面的内容，欢迎交流！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-the-shell"><span class="toc-number">1.</span> <span class="toc-text">What is the shell?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#why-we-need-shell"><span class="toc-number">1.1.</span> <span class="toc-text">why we need shell?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-the-shell"><span class="toc-number">2.</span> <span class="toc-text">Using the shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%A8%8B%E5%BA%8F%E9%97%B4%E5%88%9B%E5%BB%BA%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.1.</span> <span class="toc-text">在程序间创建连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.1.1.</span> <span class="toc-text">重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pipe"><span class="toc-number">2.1.2.</span> <span class="toc-text">pipe</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#root%E7%94%A8%E6%88%B7"><span class="toc-number">2.2.</span> <span class="toc-text">root用户</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E6%A6%82%E5%BF%B5"><span class="toc-number">3.</span> <span class="toc-text">补充概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFshell"><span class="toc-number">3.1.</span> <span class="toc-text">什么是shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#terminal%E4%B8%8Eshell%E6%9C%89%E4%BD%95%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">3.2.</span> <span class="toc-text">terminal与shell有何区别？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFterminal"><span class="toc-number">3.2.1.</span> <span class="toc-text">什么是terminal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell"><span class="toc-number">3.2.2.</span> <span class="toc-text">shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.2.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/05/24/Shell/" title="Shell"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/24/1gbqds2iAQU7FmM.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Shell"/></a><div class="content"><a class="title" href="/2023/05/24/Shell/" title="Shell">Shell</a><time datetime="2023-05-24T14:18:05.000Z" title="发表于 2023-05-24 22:18:05">2023-05-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/21/OS/" title="OS"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/21/exL2WY8ItFTJErP.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OS"/></a><div class="content"><a class="title" href="/2023/05/21/OS/" title="OS">OS</a><time datetime="2023-05-21T15:10:29.000Z" title="发表于 2023-05-21 23:10:29">2023-05-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/18/Make/" title="Make"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/18/r9XmfvjieSY4VK2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Make"/></a><div class="content"><a class="title" href="/2023/05/18/Make/" title="Make">Make</a><time datetime="2023-05-18T03:25:54.000Z" title="发表于 2023-05-18 11:25:54">2023-05-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E9%80%9F%E6%88%90/" title="计算机科学速成"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/08/Mlk61s4GdPqgmKW.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机科学速成"/></a><div class="content"><a class="title" href="/2023/05/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E9%80%9F%E6%88%90/" title="计算机科学速成">计算机科学速成</a><time datetime="2023-05-08T15:10:02.000Z" title="发表于 2023-05-08 23:10:02">2023-05-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/25/FAT12%E9%95%9C%E5%83%8F%E6%9F%A5%E7%9C%8B/" title="FAT12镜像查看"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/04/25/ZNTjfJuSEiIO3bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FAT12镜像查看"/></a><div class="content"><a class="title" href="/2023/04/25/FAT12%E9%95%9C%E5%83%8F%E6%9F%A5%E7%9C%8B/" title="FAT12镜像查看">FAT12镜像查看</a><time datetime="2023-04-25T15:38:15.000Z" title="发表于 2023-04-25 23:38:15">2023-04-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By FreChen026</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>